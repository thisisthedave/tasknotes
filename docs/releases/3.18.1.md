# TaskNotes 3.18.1

## Bug Fixes

### Cache Synchronization Race Conditions (#358)

Fixed critical race conditions in cache synchronization that occurred when task operations completed before Obsidian's metadata cache had fully processed file changes. This resulted in stale or missing task data across all calendar views and task operations.

*Thanks to @willgraham345 for reporting the calendar auto-refresh issue*

## Code Quality Improvements

### Event Listener Management

Simplified event listener cleanup in AdvancedCalendarView by removing manual listener tracking array.

## Technical Details

**Cache Synchronization Strategy**: The implementation follows a "wait-then-update" pattern where all cache modifications are preceded by verification that Obsidian's metadata cache contains the expected changes. This prevents race conditions while maintaining performance through minimal wait times.

